<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Meteor: Fullstack JavaScript Development</title>

  <meta name="author" content="Raimond Reichert, Samuel Zurcher">
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/black.css" id="theme">
  <link rel="stylesheet" href="css/retro42.css">
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <script>
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
<div class="reveal">
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">

    <!-- =================================================================================== -->
    <section>
      <section>
        <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
        <ul>
          <li>Retro42: Our prototype application</li>
          <li>Why did we choose Meteor?</li>
          <li>What is Meteor?</li>
          <li>Show me some code!</li>
          <li>Comparing Meteor vs. MEAN</li>
          <li>More about Meteor</li>
        </ul>
        <p><small>Raimond Reichert, Samuel Zürcher, Ergon Informatik AG</small></p>
      </section>
      <section>
        <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
        <div><small style="text-align: left">
          <p>The rate of innovation in the JavaScript space is still incredible. For a while, it seemed that Angular would emerge as a winner in the web application frontend wars. Now, with Meteor, there is a new contender, a full-stack development framework which promises "to allow you to build advanced apps quickly, with a small team &ndash; allowing even individuals to achieve things that used to be possible only at large companies like Google and Facebook."</p>

          <p>We wanted to gain some experience with Meteor with a very small project (approx. 20d, two people) to form our own opinion on these promises. We were quite impressed, as our estimates of what we would be able to build were way off: We developed roughly 50% more functionality than we had estimated. Meteor seemed easy to learn, and we very quickly felt very productive with Meteor.</p>

          <p>In this presentation, we give a short overview on Meteor (with its Distributed Data Protocol, Latency Compensation, and Reactivity) and its components for rendering (Blaze) and testing (Velocity) as well as its package system (atmosphere.js). In a "slide coding" session, we implement a "lessons learned" feature of our demo application, Retro42 (<a href="https://retro42.herokuapp.com">retro42.herokuapp.com</a>) as a showcase for coding with Meteor.</p>

          <p>Raimond Reichert, Samuel Zürcher, Ergon Informatik AG</p>
        </small></div>
      </section>
    </section>

    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
      <ul>
        <li class="highlight">Retro42: Our prototype application</li>
        <li>Why did we choose Meteor?</li>
        <li>What is Meteor?</li>
        <li>Show me some code!</li>
        <li>Comparing Meteor vs. MEAN</li>
        <li>More about Meteor</li>
      </ul>
    </section>

    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h2>Retro42: Our prototype application</h2></div>
      <div>
        <p>Our motivation for building Retro42</p>
        <ul>
          <li>Change begins with settings goals and tracking how you do on them.</li>
          <li>Retro42 lets you define and schedule questionnaires for yourself, or for your team.</li>
          <li>Retro42 helps you track your answers, and visualizes them for you.</li>
        </ul>
      </div>
    </section>
    <section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Start from an existing questionnaire template...</p>
        <img width="80%" src="images/templates.png" />
        <p><small>Arrow-down to see more...</small></p>
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>... or create a questionnaire from scratch.</p>
        <img width="80%" src="images/create-questionnaire.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Define your schedule for answering your questionnaire.</p>
        <img width="80%" src="images/create-schedule.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Retro42 will send you reminder mails according to the schedule</p>
        <img width="80%" src="images/reminder-mail.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Submit answers to your questionnaire</p>
        <img width="80%" src="images/questionnaire-pass.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review all your answers to a questionnaire</p>
        <img width="80%" src="images/review-overview.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review your answers to a textual question</p>
        <img width="80%" src="images/review-question-text.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review your answers to a numeric question</p>
        <img width="80%" src="images/review-question-numeric.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review the percentage of positive answers to a yes/no question</p>
        <img width="80%" src="images/review-question-boolean-percentage.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review a yes/no answers on a calendar</p>
        <img width="80%" src="images/review-question-boolean-chain.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Invite others to participate on a questionnaire</p>
        <img width="80%" src="images/invite.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review a shared questionnaire and its participants</p>
        <img width="80%" src="images/review-group-overview.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review your group's questionnaire passes</p>
        <img width="80%" src="images/review-group-overview-passes.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review all answers in a group questionnaire pass</p>
        <img width="80%" src="images/review-group-question-pass.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review all answers to a numeric question</p>
        <img width="80%" src="images/review-group-question-numeric.png" />
      </section>
      <section>
        <div id="title-box"><h2>Retro 42: Demo Screenshots</h2></div>
        <p>Review all answers to a yes/no question</p>
        <img width="80%" src="images/review-group-question-boolen.png" />
      </section>
    </section>

    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
      <ul>
        <li>Retro42: Our prototype application</li>
        <li class="highlight">Why did we choose Meteor?</li>
        <li>What is Meteor?</li>
        <li>Show me some code!</li>
        <li>Comparing Meteor vs. MEAN</li>
        <li>More about Meteor</li>
      </ul>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Why did we choose Meteor?</p><h2>In 2015, what would you choose?</h2></div>
      <div>
        <img src="images/which-web-app-framework.png" width="100%"/>
        <p>So many web and mobile app development options, yet still no clear winner emerges... making each option a risk with regards to long-term maintainability.</p>
        <p>We chose to Meteor because it implements an approach which is quite different from what we've gotten used to.</p>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Why did we choose Meteor?</p><h2>Integrated development plattform</h2></div>
      <div>
        <img src="images/meteor-diy-comparison.png" width="60%"/>
        <p class="citation"><small>from <a href="http://www.forbes.com/sites/anthonykosner/2015/06/30/meteor-is-the-app-platform-for-the-new-world-of-cloud-client-computing/2/">www.forbes.com/sites/anthonykosner/2015/06/30/meteor-is-the-app-platform-for-the-new-world-of-cloud-client-computing</a></small></p>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Why did we choose Meteor?</p><h2>Principles of particular interest</h2></div>
      <div>
        <ul>
          <li>Full-stack JavaScript (or CoffeeScript, for us), for both backend and frontend</li>
          <li>Meteor's <span class="highlight">database everywhere</span> principle makes it easy to build apps on top of databases</li>
          <li>We wanted to see Meteor's <span class="highlight">latency compensation</span> principle and reactivity in action.</li>
          <li>It advertises <span class="highlight">fast and fun development</span>, and who wouldn't like that:-)</li>
          <li class="muted">It promises one code base for web and mobile plattforms. However, we did not look into Meteor's multi-plattform capabilities in our project.</li>
        </ul>
      </div>
    </section>


    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
      <ul>
        <li>Retro42: Our prototype application</li>
        <li>Why did we choose Meteor?</li>
        <li class="highlight">What is Meteor?</li>
        <li>Show me some code!</li>
        <li>Comparing Meteor vs. MEAN</li>
        <li>More about Meteor</li>
      </ul>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Command line tool</h2></div>
      <div>
        <ul>
          <li><code style="font-weight: bolder">meteor add &lt;package name&gt;</code><br/>Add a package to your Meteor project.</li>
          <li><code style="font-weight: bolder">meteor run</code><br/>Serve the current app at http://localhost:3000 using Meteor's local development server. <br/>Also continuously runs tests if Velocity package has been added to your project.</li>
          <li><code style="font-weight: bolder">meteor reset</code><br/>Reset the current project to a fresh state.<br/> Removes all local data.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Its own build system</h2></div>
      <div>
        <ul>
          <li>For example, <code style="font-weight: bolder">meteor add coffeescript</code> adds CoffeeScript support to your project &ndash; that's it</li>
          <li>Client vs server: Adding a package works seamlessly on both the client and the server.</li>
          <li>Asset building and bundling: The package system integrates with Meteor's asset building/bundling system.</li>
          <li>"We feel strongly that every package in your app should be always pinned to a specific version, and those version pins should be checked into source control."</li>
        </ul>
      </div>
      <p class="citation"><small>see <a href="http://www.quora.com/Node-js/Why-does-Meteor-use-its-own-package-system-rather-than-NPM">quora.com/Node-js/Why-does-Meteor-use-its-own-package-system-rather-than-NPM</a></small></p>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Full-stack package system</h2></div>
      <div>
        <img src="images/atmospherejs.png" width="90%"/>
        <p class="citation"><small>see <a href="https://atmospherejs.com/">atmospherejs.com</a></small></p>
      </div>
    </section>

    <section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Integrated MongoDb support</h2></div>
        <div>
          <p>The same database API works on both the client and the server. The API is compatible with the Mongo database API.</p>
          <pre><code class="coffeescript" data-trim>
# common code on client and server declares a DDP-managed mongo collection
Messages = new Mongo.Collection "messages"

# return array of my messages (here, in client code)
myMessages = Messages.find({userId: Meteor.userId()}).fetch()

# create a new message
Messages.insert {text: "Hello, world!"}

# mark my first message as "important"
Messages.update myMessages[0]._id, {$set: {important: true}}
          </code></pre>
          <p class="citation"><small>see <a href="http://docs.meteor.com/#/full/mongo_collection">docs.meteor.com/#/full/mongo_collection</a></small></p>
          <p><small>Arrow-down to see more...</small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Integrated MongoDb support</h2></div>
        <div>
          <ul>
            <li>On the server, when you call methods on a collection, they translate directly into normal Mongo operations (after checking that they match your access control rules).</li>
            <li>On the client, Minimongo is essentially an in-memory, non-persistent implementation of Mongo in pure JavaScript. It serves as a local cache that stores just the subset of the database that this client is working with.</li>
            <li>When you write to the db on the client, the command is executed locally immediately, and, simultaneously, it's sent to the server and executed there too.</li>
          </ul>
          <p class="citation"><small>see <a href="http://docs.meteor.com/#/full/mongo_collection">docs.meteor.com/#/full/mongo_collection</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Mini-MongoDb limitations</h2></div>
        <div>
          <p>In its current release, Minimongo has some limitations:</p>
          <ul>
            <li>$pull in modifiers only accepts certain kinds of selectors.</li>
            <li>findAndModify, <span class="highlight">aggregate functions, and map/reduce aren't supported.</span></li>
            <li>Minimongo doesn't currently have indexes. It's rare for this to be an issue, since it's unusual for a client to have enough data that an index is worthwhile.</li>
          </ul>
          <p>All of these will be addressed in a future release.</p>
          <p class="citation"><small>see <a href="http://docs.meteor.com/#/full/mongo_collection">docs.meteor.com/#/full/mongo_collection</a></small></p>
        </div>
      </section>
    </section>


    <section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Livequery: Latency Compensation</h2></div>
        <div>
          <img src="images/optimistic-ui-latency-compensation.png" width="60%"/>
          <p class="citation"><small>from <a href="http://info.meteor.com/blog/optimistic-ui-with-meteor-latency-compensation">info.meteor.com/blog/optimistic-ui-with-meteor-latency-compensation</a></small></p>
          <p><small>Arrow-down to see more...</small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-1.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-2.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-3.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-4.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-5.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-6.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-7.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-8.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-9.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-10.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Meteor Data Flows</h2></div>
        <div>
          <img src="images/meteor-dataflow-11.png" width="100%"/>
          <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
        </div>
      </section>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>View with Blaze and Spacebars</h2></div>
      <div>
        <p>Spacebars is simply HTML, with the addition of three things: </p>
        <ul>
          <li><strong>Inclusions</strong> use the <span class="highlight">{{&gt; templateName}}</span> syntax, and simply tell Meteor to replace the inclusion with the template of the same name.</li>
          <li><strong>Expressions</strong> such as <span class="highlight">{{title}}</span> either call a property of the current object, or the return value of a template helper as defined in the current template’s helper.</li>
          <li><strong>Template helpers</strong> are special tags that control the flow of the template, such as <span class="highlight">{{#each}}</span> ... <span class="highlight">{{/each}} or {{#if}}...{{/if}}</span>.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>View with Blaze and Spacebars</h2></div>
      <div>
        <p>In this example, <code style="font-weight:bold">url</code> and <code style="font-weight:bold">title</code> come from a <code style="font-weight:bold">post</code> object, whereas <code style="font-weight:bold">domain</code> is a call to a template helper function:</p>
        <pre><code class="html" data-trim>
<template name="postItem">
<div class="post">
   <div class="post-content">
       <h3><a href="{{url}}">{{title}}</a><span>{{domain}}</span></h3>
   </div>
</div>
</template>
        </code></pre>
        <pre><code class="coffeescript" data-trim>
Template.postItem.helpers
  domain: () ->
    a = _createLink this.url
    a.hostname
        </code></pre>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>View with Blaze and Spacebars</h2></div>
      <div>
        <p><span class="highlight">Blaze is reactive</span>: The template will update automatically, with no additional work on your part. This works even if the template runs arbitrary JavaScript code to compute its data.</p>
        <p>Blaze's simplicity is made possible by Tracker, an extremely lightweight (one kb) system for transparent reactivity.</p>
        <p>By wiring all of this up for you, <span class="highlight">Blaze removes an enormous amount of boilerplate from your app</span>, and allows you to say what you want once without repeating yourself.</p>
        <p class="citation"><small>from <a href="https://www.meteor.com/blaze">meteor.com/blaze</a></small></p>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Integrated development plattform</h2></div>
      <div>
        <img src="images/meteor-platform.png" width="60%"/>
        <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">What is Meteor?</p><h2>Like an all-inclusive hotel</h2></div>
      <p>It offers great comfort to the developer,<br/> but you are also constrained.</li>
      <div>
        <img src="images/hotel-all-inclusive-cervia.jpg" width="60%"/>
      </div>
    </section>

    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
      <ul>
        <li>Retro42: Our prototype application</li>
        <li>Why did we choose Meteor?</li>
        <li>What is Meteor?</li>
        <li class="highlight">Show me some code!</li>
        <li>Comparing Meteor vs. MEAN</li>
        <li>More about Meteor</li>
      </ul>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Implementing "lessons learned"</h2></div>
      <p>Let user add lessons learned to a questionnaire:</p>
      <div>
        <img src="images/lessons-learned-empty.png" width="80%"/>
      </div>
    </section>
    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Implementing "lessons learned"</h2></div>
      <p>Display lessons learned of a questionnaire:</p>
      <div>
        <img src="images/lessons-learned.png" width="80%"/>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Include with Blaze, Spacebars</h2></div>
      <div>
        <pre><code class="html" data-trim>
<template name="questionnairePasses">
  {{> _questionnaireTitleDescription}}
  <!-- left out: display questionnaire questions -->
  {{> _questionnaireButtons}}

  {{> lessonsLearnedTemplate questionnaireId=_id}}

  <!-- left out: display questionnaire passes -->
</template>
        </code></pre>
        <ul>
          <li>We include the <code class="code-inline">lessonsLearnedTemplate</code> in the <code class="code-inline">questionnairePasses</code> template.</li>
          <li>We pass this questionnaire's <code class="code-inline">_id</code> as <code class="code-inline">questionnaireId</code>.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Display with Blaze, Spacebars</h2></div>
      <div>
        <pre><code class="html" data-trim>
&lt;template name="lessonsLearnedTemplate"&gt;
  &lt;h2&gt;{{_ 'lessonsLearnedTemplate.title'}}&lt;/h2&gt;
  {{#if lessonsLearned}}
    &lt;table class="..." id="lessonsLearnedTable"&gt;
      &lt;tbody&gt;
      {{#each lessonsLearned}}
        <&lt;!-- next slide --&gt;
      {{/each}}
      &lt;/tbody&gt;
    &lt;/table&gt;
  {{/if}}
&lt;/template&gt;
        </code></pre>
        <ul>
          <li>The template name <code class="code-inline">lessonsLearnedTemplate</code> is the key which we will use in our CoffeeScript code.</li>
          <li><code class="code-inline">{{_ 'key'}}</code> is i18n with Meteor package tap:i18n.</li>
          <li>We left out some of the table markup (thead).</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Display with Blaze, Spacebars</h2></div>
      <div>
        <pre><code class="html" data-trim>
{{#each lessonsLearned}}
  &lt;tr&gt;
    &lt;td class="createdAt"&gt;{{createdAtAbsolute}} {{createdAtRelative}}&lt;/td&gt;
    &lt;td class="text"&gt;{{text}}&lt;/td&gt;
    &lt;td class="actions"&gt;
      &lt;a href="#"
            class="deleteLessonLearned btn btn-default btn-sm"&gt;
        {{_ 'lessonsLearnedTemplate.delete'}}
      &lt;/a&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
{{/each}}
        </code></pre>
        <ul>
          <li>Examples of calling a template helper function: <code class="code-inline">lessonsLearned, createdAtAbsolute</code>.</li>
          <li>Example of looking up a value in current scope: <code class="code-inline">text</code>.</li>
          <li>Iterating with <code class="code-inline">{{#each lessonsLearned}}</code> creates a new <code class="code-inline">this</code> scope for each document in the collection.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Template helper functions</h2></div>
      <div>
        <pre><code class="coffeescript" data-trim>
Template.lessonsLearnedTemplate.helpers
  lessonsLearned: () ->
    LessonsLearned.find({questionnaireId: this.questionnaireId},
      {sort: {createdAt: -1}}).fetch()

  createdAtAbsolute: () ->
    moment(this.createdAt).format('YYYY-MM-DD HH:mm')

  createdAtRelative: () ->
    moment(this.createdAt).fromNow()
        </code></pre>
        <ul>
          <li>Get the questionnaire id for which to show lessons learned: <code class="code-inline">this.questionnaireId</code>.</li>
          <li>Use Meteors livequery to read from the <code class="code-inline">LessonsLearned</code> collection.</li>
          <li>Note that the <code class="code-inline">this</code> scope for the helper functions <code class="code-inline">createdAt*</code> is a lesson learned document.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Defining collections</h2></div>
      <div>
        <pre><code class="coffeescript" data-trim>
@LessonsLearned = new Mongo.Collection 'lessons_learned'

LessonsLearned.allow
  insert: (userId) ->
    userId is Meteor.userId()
  remove: (userId, lessonLearned) ->
    userId? and (userId is lessonLearned.userId)
        </code></pre>
        <ul>
          <li>Create a new collection with <code class="code-inline">new Mongo.Collection 'lessons_learned'</code>. On the server, this sets up a MongoDB collection called my-collection; on the client, this creates a cache connected to the server collection.</li>
          <li>Define conditions which allow insertion and removal of lessons learned documents.</li>
        </ul>
      </div>
    </section>

    <section>
      <section>
        <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Publishing / subscribe to data</h2></div>
        <div>
          <pre><code class="coffeescript" data-trim>
# server-side only code
Meteor.publish 'lessons_learned', (questionnaireId) ->
  check questionnaireId, String
  LessonsLearned.find(
    {questionnaireId: questionnaireId, userId: this.userId},
    {sort: {createdAt: -1}}
          </code></pre>

          <pre><code class="coffeescript" data-trim>
# server- and client-side code
Router.route '/questionnaires/:_id/passes', {
  name: 'questionnairePasses'
  waitOn: () -> [
    Meteor.subscribe 'questionnaire', this.params._id
    Meteor.subscribe 'lessons_learned', this.params._id
    Meteor.subscribe 'questionnaire_passes', this.params._id
  ]
  data: () -> Questionnaires.findOne this.params._id
}
          </code></pre>
          <p><small>arrow-down for more on publish / subscribe</small></p>
        </div>
      </section>

      <section>
        <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Auto-publish: Turn it off!</h2></div>
        <div>
          <p><img src="images/autopublish.png" width="50%" /></p>
          <p class="citation"><small>from Discover Meteor</small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Publish full collections</h2></div>
        <div>
          <p><img src="images/publish-full-collection.png" width="50%" /></p>
          <p class="citation"><small>from Discover Meteor</small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Publish partial collections</h2></div>
        <div>
          <p><img src="images/publish-partial-collection.png" width="50%" /></p>
          <p class="citation"><small>from Discover Meteor</small></p>
        </div>
      </section>
      <section>
        <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Publish partial properties</h2></div>
        <div>
          <p><img src="images/publish-partial-properties.png" width="50%" /></p>
          <p class="citation"><small>from Discover Meteor</small></p>
        </div>
      </section>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Using events for adding, deleting</h2></div>
      <div>
        <pre><code class="html" data-trim>
<template name="lessonsLearnedTemplate">
  <h2>{{_ 'lessonsLearnedTemplate.title'}}</h2>
  <!-- display code from previous slides -->
  <form id="addLessonLearned"> <!-- we left out some Bootstrap markup -->
    <input type="text" name="text">
  </form>
</template>
        </code></pre>

        <pre><code class="coffeescript" data-trim>
Template.lessonsLearnedTemplate.events
  'submit #addLessonLearned': (event) ->
    event.preventDefault()
    LessonsLearned.insert
      questionnaireId: this.questionnaireId
      userId: Meteor.userId()
      text: event.target.text.value
    event.target.text.value = ''

  'click .deleteLessonLearned': () ->
    LessonsLearned.remove this._id
        </code></pre>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Using reactivity</h2></div>
      <div>
        <p>Making our relative time stamps react to language change:</p>
        <pre><code class="coffeescript" data-trim>
Template.lessonsLearnedTemplate.helpers
  createdAtRelative: () ->
    share.languageDependency.depend()
    # make this computation dependent on a shared dependency
    moment(this.createdAt).format('YYYY-MM-DD HH:mm')
        </code></pre>
      </div>
      <pre><code class="coffeescript" data-trim>
# client/startup.coffee
Meteor.startup () ->
  share.languageDependency = new Deps.Dependency
      </code></pre>
      <pre><code class="coffeescript" data-trim>
# client/templates/header.coffee
Template.header.events
  'click .tap-i18n-buttons button': () ->
    newLanguage = TAPi18n.getLanguage()
    accountsUIBootstrap3.setLanguage newLanguage
    moment.locale newLanguage
    share.languageDependency.changed()
    # forces re-computation of all dependent computations
      </code></pre>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Did you notice? No callbacks!</h2></div>
      <div>
        <p>We've implemented the "lessons learned" feature without any callbacks! In many cases, Meteor takes care of the asynchronicity and the callbacks necessary to deal with it.</p>
        <p class="highlight">If you need to explicitely call a server-side function, use <code class="code-inline">Meteor.call</code>. Using a <code class="code-inline">ReactiveVar</code>, it's easy to update the UI reactively.</p>
        <p>In our project, we only used <code class="code-inline">Meteor.call</code> nine times, some due to Mini-MongoDb limitations (no aggregations).</p>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Meteor.call, ReactiveVar example</h2></div>
      <div>
        <pre><code class="coffeescript" data-trim>
_numericAnswersChartVar = new ReactiveVar null

Template.questionnaireQuestionView.helpers
  numericAnswersChart: () -> _numericAnswersChartVar.get()

Template.questionnaireQuestionView.onRendered () ->
  questionnaire = this.data
  Meteor.call 'questionnaireQuestionAnswers', Router.current().params._id,
      Router.current().params._questionUuid, (error, result) ->
    if error then return share.showErrorMessage error.reason
    question = share._question questionnaire
    if question.type is 'numeric'
      timeSeries = _.map result,
        (answer) -> [answer.createdAt.getTime(), parseFloat(answer.value)]
      numericChart = _numericChart timeSeries.reverse(), questionnaire
      _numericAnswersChartVar.set numericChart # update ReactiveVar
      </code></pre>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Show me some code!</p><h2>Meteor: Finding files</h2></div>
      <div>
        <ul>
          <li>No matter where you put your code in the /client directory, Meteor will find it and compile it properly.</li>
          <li>Code inside folders that are not client/ or server/ (e.g. lib/) will run in both contexts.</li>
          <li>This means you never need to manually write include paths for JavaScript or CSS files...</li>
          <li>... however, you also don't explicitely see dependencies...</li>
        </ul>
      </div>
    </section>

    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
      <ul>
        <li>Retro42: Our prototype application</li>
        <li>Why did we choose Meteor?</li>
        <li>What is Meteor?</li>
        <li>Show me some code!</li>
        <li class="highlight">Comparing Meteor vs. MEAN</li>
        <li>More about Meteor</li>
      </ul>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Comparing Meteor vs. MEAN</p><h2>What we liked better</h2></div>
      <div>
        <ul>
          <li><span class="highlight">Less code, more functionality</span></li>
          <li>It took us much less preparation time to get productive with Meteor than with the MEAN stack</li>
          <li>It also felt like we were much <span class="highlight">more productive</span> once we were up and running: we overestimated our effort by 50%</li>
          <li>Blaze <span class="highlight">easier to learn</span>, whereas Angular can be overwhelming with all its concepts</li>
          <li><span class="highlight">More straight-forward code</span> because we rarely had to deal with keeping track of callbacks and/or promises.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Comparing Meteor vs. MEAN</p><h2>What we liked better</h2></div>
      <div>
        <ul>
          <li>No time spent on <span class="highlight">build system</span> (e.g. Grunt, Gulp)</li>
          <li>Simple <span class="highlight">dependency management</span>, with versions always automatically fixed by Meteor</li>
          <li>Only one dependency management systemm, not two (i.e. npm, bower)</li>
          <li><span class="highlight">Much less boiler-plate code</span> to publish data to client</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Comparing Meteor vs. MEAN</p><h2>What they have in common</h2></div>
      <div>
        <ul>
          <li>Easy deployment to Heroku with <br/><code style="font-weight:bold">git push heroku master</code></li>
          <li>Easy to add authentification mechanisms for plattforms such as Google, Facebook</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Comparing Meteor vs. MEAN</p><h2>What we liked less</h2></div>
      <div>
        <ul>
          <li>We were missing best practices on how to organize the code.</lI>
          <li>Live reload in browser is slower because app must be assembled and precompiled by Meteor</li>
          <li>Testing framework Velocity was a late addition to Meteor, and there is little support from Meteor for writing tests</li>
          <li>For webtests, Velocity uses the Robot Famework which utilizes the keyword-driven testing approach: however, we would have preferred a more Protractor-like approach</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Comparing Meteor vs. MEAN</p><h2>What others have to say</h2></div>
      <div>
        <h3>"This isn’t your daddy’s JavaScript"</h3>
        <p>"Week 3: Tasks were being completed faster than ever before. We did struggle occasionally, but we were able to find plenty of documentation and support from our super smart lead developer who we call Google. <span class="highlight">At the end of one week, we had completed more in Meteor than the entire previous month in .NET."</span></p>
        <p class="citation"><small>see <a href="http://info.meteor.com/blog/from-.net-to-meteor-in-30-days">info.meteor.com/blog/from-.net-to-meteor-in-30-days</a> (2015-09-09)</small></p>
      </div>
    </section>

    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Meteor</h1><h2>Fullstack JavaScript Development</h2></div>
      <ul>
        <li>Retro42: Our prototype application</li>
        <li>Why did we choose Meteor?</li>
        <li>What is Meteor?</li>
        <li>Show me some code!</li>
        <li>Comparing Meteor vs. MEAN</li>
        <li class="highlight">More about Meteor</li>
      </ul>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">More about Meteor</p><h2>Meteor Roadmap</h2></div>
      <div>
        <ul>
          <li>Meteor 1.2, Summer 2015</li>
          <ul><li>ES2015 (ES6)</li><li>1st class Angular and React support</li></ul>
          <li>Future Directions</li>
          <ul><li>Full-stack reactive SQL</li><li>REST and microservices</li><li>large app patterns</li><li>ES2015 modules, and more</li></ul>
        </ul>
        <p class="citation"><small>see <a href="http://info.meteor.com/blog/whats-coming-in-meteor-12-and-beyond">info.meteor.com/blog/whats-coming-in-meteor-12-and-beyond</a></small></p>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">More about Meteor</p><h2>Who is behind Meteor?</h2></div>
      <div>
        <ul>
          <li>Funded: $20 Million series B, May 2015</li>
          <li>Active development by full-time employees</li>
          <li>Revenue product: Galaxy, a high-availability / large scale Meteor hosting plattform</li>
          <li>Meteor platform is MIT-licensed: host anywhere; you own the code</li>
        </ul>
        <p class="citation"><small>from <a href="https://meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z">meteor.hackpad.com/Meteor-speaker-kit-uaPe3zDDH8z</a></small></p>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">More about Meteor</p><h2>Learn Meteor</h2></div>
      <div>
        <img src="images/discover-meteor.jpg" />
        <p class="citation"><small>see <a href="https://www.discovermeteor.com/">discovermeteor.com</a>, and <a href="https://www.meteor.com/">meteor.com</a></small></p>
      </div>
    </section>

    <section>
      <div id="title-box"><h1>Conclusion</h1></div>
      <div>
        <p>TBD</p>
      </div>
    </section>

    <section>
			<img src="images/any-questions.jpg" width="100%">
		</section>

    <!-- =================================================================================== -->
    <!-- =================================================================================== -->
    <section>
      <div id="title-box"><h1 style="margin-bottom:0">Backup Slides</h1></div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Backup Slides</p><h2>Pair Programming Recommended</h2></div>
      <div>
        <img src="images/pair-programming.png" width="80%"/>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Backup Slides</p><h2>JavaScript: Maintenance...?</h2></div>
      <div class="smaller">
        <p>Stefan Hanenberg et al. <span class="highlight">An empirical study on the impact of static typing on software maintainability</span>. Empirical Software Engineering, <br/>Oct. 2014, Vol. 19, No. 5, pp 1335-1382.</p>
        <ul>
          <li>Static type systems help use a new set of classes – an effective form of self-documentation</li>
          <li class="highlight">We believe the most important result is that the static type systems showed a clear tendency in class identification tasks,<br/> and that we found a first indicator that this is caused by a reduced navigation effort.</li>
          <li>Static type systems make it easier for humans and reduce the effort to fix type errors.</li>
          <li>For fixing semantic errors, we observed no difference with respect to development times, and static type systems may not be helpful in preventing semantic errors.</li>
        </ul>
      </div>
    </section>

    <section>
      <div id="title-box"><p class="no-margin">Backup Slides</p><h2>JavaScript: Best Practices!</h2></div>
      <div>
        <h2 class="highlight">急がばまわれ</h2>
        <p>Isogaba maware: <span class="highlight">When you are in hurry, take your time</span></p>
        <ul>
          <li>Testing: Automated tests at all levels</li>
          <li>SOLID design, and remember the Law of Demeter</li>
          <li>Dependencies: Use a consistent namespaces scheme</li>
          <li>Documentation: Document your APIs</li>
          <li>Continuous Integration, ...</li>
        </ul>
      </div>
    </section>

  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: false,
        slideNumber: true,
        transition: 'none', // none/fade/slide/convex/concave/zoom
        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });
</script>
</body>
</html>
